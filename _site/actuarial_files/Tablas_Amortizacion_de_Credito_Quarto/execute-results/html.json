{
  "hash": "732dcbf4af79e68d8bb51fe15f741437",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tablas_Amortizacion_de_Credito_Quarto\"\ntoc: true\ntoc-location: right\ntoc-depth: 2\n---\n\n## 1. Crédito a corto plazo: Cuota fija, pagos vencidos\n\nPara calcular la cuota fija (R) se usan las siguientes constantes:\n\n-   Tasa efectiva mensual: $$\n    i_{(12)}=\\frac{i^{(12)}}{12} = (1 + i)^{1/12} - 1\n    $$\n-   Factor de anualidad mensual: $$\n    12 \\, a_{\\overline{n}|} = \\frac{1 - \\bigl(1 + i_{(12)}\\bigr)^{-12n}}{i_{(12)}}\n    $$\n-   Cuota fija: $$\n    R = \\frac{VP}{12 \\, a_{\\overline{n}|}}\n    $$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAmortizacionCortaPlazoFijo <- function(n, i, VP) {\n  # n   : plazo en años\n  # i   : tasa efectiva anual\n  # VP  : valor presente del crédito\n  \n  i12_12 <- (1 + i)^(1/12) - 1 \n  m <- n * 12 # número de pagos m\n  \n  a_mensual <- (1 - (1 + i12_12)^(-m)) / i12_12\n  \n  # cuota fija R\n  R <- VP / a_mensual\n  \n  # inicializar \n  Mes        <- 1:m\n  Cuota      <- rep(R, m)\n  Intereses  <- numeric(m)\n  Abono      <- numeric(m)\n  Saldo      <- numeric(m + 1)\n  Saldo[1]   <- VP\n  \n  # amortización\n  for (k in 1:m) {\n    Intereses[k] <- i12_12 * Saldo[k]\n    Abono[k]     <- Cuota[k] - Intereses[k]\n    Saldo[k + 1] <- Saldo[k] - Abono[k]\n  }\n  \n  \n  tabla <- data.frame(\n    Mes               = Mes,\n    Cuota             = round(Cuota,     2),\n    Intereses         = round(Intereses, 2),\n    AbonoACapital     = round(Abono,      2),\n    SaldoRestante     = round(Saldo[-1],  2) # (quitamos el primer saldo de la columna original)\n  )\n  \n  return(tabla)\n}\n\n# Ejemplo:\ntabla_ejemplo <- AmortizacionCortaPlazoFijo(n = 3, i = 0.14, VP = 45000000)\nhead(tabla_ejemplo, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Mes   Cuota Intereses AbonoACapital SaldoRestante\n1   1 1520016  494048.3       1025967      43974033\n2   2 1520016  482784.4       1037231      42936802\n3   3 1520016  471396.8       1048619      41888183\n4   4 1520016  459884.2       1060131      40828052\n5   5 1520016  448245.1       1071770      39756281\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(tabla_ejemplo, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Mes   Cuota Intereses AbonoACapital SaldoRestante\n32  32 1520016  80760.78       1439255       5916777\n33  33 1520016  64959.42       1455056       4461721\n34  34 1520016  48984.57       1471031       2990690\n35  35 1520016  32834.34       1487181       1503509\n36  36 1520016  16506.80       1503509             0\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## 2. Crédito a corto plazo: Cuota decreciente, pagos vencidos\n\n-   Abono a capital mensual constante:\n\n    $$\n    i_{(12)}=\\frac{i^{(12)}}{12} = (1 + i)^{1/12} - 1\n    $$ $$\n    \\text{AbonoCapital}_i = \\frac{VP}{12*n}\n    $$\n\n-   Intereses cada mes: $$\n    \\text{Intereses}_i = i_{(12)} \\times \\text{Saldo}_{i-1}\n    $$\n\n-   Cuota mensual variable: $$\n    \\text{Cuota}_i = \\text{AbonoCapital}_i + \\text{Intereses}_i\n    $$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAmortizacionCuotaDecreciente <- function(n, i, VP) {\n  # n   : plazo en años\n  # i   : tasa efectiva anual\n  # VP  : valor presente del crédito\n  \n  i12_12 <- (1 + i)^(1/12) - 1\n  m <- n * 12 # número total de pagos m\n  \n  abono_capital <- VP / m # Abono Fijo\n  \n  # inicializar\n  Mes           <- 1:m\n  Cuota         <- numeric(m)\n  Intereses     <- numeric(m)\n  AbonoACapital <- rep(abono_capital, m)\n  Saldo         <- numeric(m + 1)\n  Saldo[1]      <- VP\n  \n  # amortización\n  for (k in 1:m) {\n    Intereses[k] <- i12_12 * Saldo[k]\n    Cuota[k]     <- AbonoACapital[k] + Intereses[k]\n    Saldo[k + 1] <- Saldo[k] - AbonoACapital[k]\n  }\n  \n  tabla <- data.frame(\n    Mes               = Mes,\n    Cuota             = round(Cuota,         2),\n    Intereses         = round(Intereses,     2),\n    AbonoACapital     = round(AbonoACapital, 2),\n    SaldoRestante     = round(Saldo[-1],      2)\n  )\n  \n  return(tabla)\n}\n\n# Ejemplo:\ntabla_decreciente <- AmortizacionCuotaDecreciente(n = 3, i = 0.14, VP = 45000000)\nhead(tabla_decreciente,5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Mes   Cuota Intereses AbonoACapital SaldoRestante\n1   1 1744048  494048.3       1250000      43750000\n2   2 1730325  480324.8       1250000      42500000\n3   3 1716601  466601.2       1250000      41250000\n4   4 1702878  452877.6       1250000      40000000\n5   5 1689154  439154.1       1250000      38750000\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(tabla_decreciente,5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Mes   Cuota Intereses AbonoACapital SaldoRestante\n32  32 1318618  68617.82       1250000       5000000\n33  33 1304894  54894.26       1250000       3750000\n34  34 1291171  41170.69       1250000       2500000\n35  35 1277447  27447.13       1250000       1250000\n36  36 1263724  13723.56       1250000             0\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## 3. Largo plazo en pesos con inflación, pagos vencidos\n\nEntradas: tasa real (e), inflación anual (r), años (n), (VP).\n\nConstantes:\n\n-   Tasa anual con inflación: $$\n    i = (1+e)(1+r) - 1\n    $$\n-   Tasa mensual efectiva con inflación: $$\n    i_{(12)} = \\frac{i^{(12)}}{12} = (1 + i)^{1/12} - 1\n    $$\n-   Tasa nominal anual: $$\n    i^{(12)}= 12[(1 + i)^{1/12} - 1]\n    $$\n-   Tasa mensual real: $$\n    e_{(12)} =\\frac{e^{(12)}}{12} = (1+e)^{1/12} - 1,\\quad e^{(12)}= 12[(1 + e)^{1/12} - 1]\n    $$\n-   Valor presente anualidad ajustada: $$\n    VPa = \\frac{i}{i^{(12)}}\\cdot \\frac{1}{1 + r}\\cdot \\frac{1 - (1+e)^{-n}}{e} \\cdot 12\n    $$\n-   Cuota inicial: $$\n    R_0 = \\frac{VP}{VPa}\n    $$\n\nCada 12 meses la cuota se ajusta por inflación multiplicando por (1+r).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAmortizacionLargoPlazoInflacion <- function(n, e, r, VP) {\n  # n   : plazo en años\n  # e   : tasa real efectiva anual\n  # r   : inflación anual\n  # VP  : valor presente del préstamo\n  \n  # tasa anual con inflación\n  i     <- (1 + e)*(1 + r) - 1\n  \n  # tasas\n  i_12_12   <- (1 + i)^(1/12) - 1       # tasa mensual efectiva con inflación\n  e_12_12   <- (1 + e)^(1/12) - 1       # tasa mensual real\n  i_12 <- 12 * i_12_12                 # tasa nominal anual\n  e_12_12 <- 12 * e_12_12                 # tasa nominal real\n  \n  # factor de anualidad real ajustada por inflación\n  VPa <- (i / i_12) * (1/(1 + r)) * (1 - (1 + e)^(-n)) / e * 12\n  \n  # cuota inicial (mensual)\n  R0 <- VP / VPa\n  \n  # Inicializar valores\n  m   <- n * 12\n  Mes <- 1:m\n  Cuota         <- numeric(m)\n  Intereses     <- numeric(m)\n  AbonoACapital <- numeric(m)\n  Saldo         <- numeric(m + 1)\n  Saldo[1]      <- VP\n  \n  # ciclo mes a mes, actualizando la cuota cada año\n  R <- R0\n  for (k in 1:m) {\n    # cada vez que empieza un nuevo año (mes 1,13,25,...), se ajusta la cuota\n    if (k > 1 && (k - 1) %% 12 == 0) {\n      R <- R * (1 + r)\n    }\n    Cuota[k]         <- R\n    Intereses[k]     <- i_12_12 * Saldo[k]\n    AbonoACapital[k] <- R - Intereses[k]\n    Saldo[k + 1]     <- Saldo[k] - AbonoACapital[k]\n  }\n  \n  data.frame(\n    Mes               = Mes,\n    Cuota             = round(Cuota,         2),\n    Intereses         = round(Intereses,     2),\n    AbonoACapital     = round(AbonoACapital, 2),\n    SaldoRestante     = round(Saldo[-1],      2)\n  )\n}\n\n# Ejemplo:\ntabla_largo_plazo <- AmortizacionLargoPlazoInflacion(n = 15, e = 0.09, r = 0.05, VP = 300000000)\nhead(tabla_largo_plazo, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Mes   Cuota Intereses AbonoACapital SaldoRestante\n1   1 3058893   3393243     -334350.1     300334350\n2   2 3058893   3397025     -338131.8     300672482\n3   3 3058893   3400850     -341956.4     301014438\n4   4 3058893   3404717     -345824.2     301360262\n5   5 3058893   3408629     -349735.7     301709998\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(tabla_largo_plazo, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    Mes   Cuota Intereses AbonoACapital SaldoRestante\n176 176 6056399 331191.52       5725208      23555764\n177 177 6056399 266434.79       5789964      17765800\n178 178 6056399 200945.59       5855454      11910346\n179 179 6056399 134715.67       5921683       5988663\n180 180 6056399  67736.63       5988663             0\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## 4. Crédito en UVR: cuota fija en UVR, pagos vencidos\n\nEntradas: (e, r, n, VP\\_\\text{pesos}, UVR).\n\nConstantes:\n\n-   (VP\\_{UVR} = \\frac{VP_\\text{pesos}}{UVR})\\\n-   Tasa mensual real: $$\n    e_{(12)} =\\frac{e^{(12)}}{12} = (1+e)^{1/12} - 1,\\quad e^{(12)}= 12[(1 + e)^{1/12} - 1]\n    $$\n-   Anualidad mensual en UVR: $$\n    12\\,a_{\\overline{n}|} = \\frac{1 - (1+e)^{-n}}{e_{(12)}}\n    $$\n-   Cuota fija en UVR: $$\n    R_{UVR} = \\frac{VP_{UVR}}{12\\,a_{\\overline{n}|}}\n    $$\n\nIntereses mensuales: (e\\_{(12)}\\times ) saldo en UVR.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nAmortizacionUVR <- function(n, e, r, VP_pesos, UVR_valor) {\n  # n         : plazo en años\n  # e         : tasa real efectiva anual\n  # r         : inflación anual\n  # VP_pesos  : monto del préstamo en pesos\n  # UVR_valor : valor de la UVR\n  \n  # convertir VP a UVR\n  VP_uvr <- VP_pesos / UVR_valor\n  \n  # tasa mensual real\n  e_12_12 <- (1 + e)^(1/12) - 1\n  \n  # factor de anualidad mensual en UVR:\n  a_n_12 <- (1 - (1 + e)^(-n)) / e_12_12\n  \n  # cuota fija en UVR\n  R_uvr <- VP_uvr / a_n_12\n  \n  # inicializar\n  m   <- n * 12\n  Mes <- 1:m\n  Cuota_uvr     <- rep(R_uvr, m)\n  Intereses_uvr <- numeric(m)\n  Abono_uvr     <- numeric(m)\n  Saldo_uvr     <- numeric(m + 1)\n  Saldo_uvr[1]  <- VP_uvr\n  \n  # amortización\n  for (k in 1:m) {\n    Intereses_uvr[k] <- e_12_12 * Saldo_uvr[k]\n    Abono_uvr[k]     <- Cuota_uvr[k] - Intereses_uvr[k]\n    Saldo_uvr[k + 1] <- Saldo_uvr[k] - Abono_uvr[k]\n  }\n  \n  data.frame(\n    Mes                = Mes,\n    Cuota_UVR          = round(Cuota_uvr,     0),\n    Intereses_UVR      = round(Intereses_uvr, 0),\n    AbonoCapital_UVR   = round(Abono_uvr,     0),\n    SaldoRestante_UVR  = round(Saldo_uvr[-1], 0)\n  )\n}\n\n# Ejemplo:\ntabla_uvr <- AmortizacionUVR(n = 15, e = 0.09, r = 0.05, VP_pesos = 300000000, UVR_valor = 322.34)\nhead(tabla_uvr, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Mes Cuota_UVR Intereses_UVR AbonoCapital_UVR SaldoRestante_UVR\n1   1      9246          6708             2538            928156\n2   2      9246          6690             2557            925599\n3   3      9246          6671             2575            923024\n4   4      9246          6653             2594            920430\n5   5      9246          6634             2612            917818\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(tabla_uvr, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    Mes Cuota_UVR Intereses_UVR AbonoCapital_UVR SaldoRestante_UVR\n176 176      9246           326             8920             36328\n177 177      9246           262             8984             27344\n178 178      9246           197             9049             18295\n179 179      9246           132             9114              9180\n180 180      9246            66             9180                 0\n```\n\n\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}